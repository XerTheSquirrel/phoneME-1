#
#   
#
# Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
# 
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License version
# 2 only, as published by the Free Software Foundation. 
# 
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# General Public License version 2 for more details (a copy is
# included at /legal/license.txt). 
# 
# You should have received a copy of the GNU General Public License
# version 2 along with this work; if not, write to the Free Software
# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
# 02110-1301 USA 
# 
# Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
# Clara, CA 95054 or visit www.sun.com if you need additional
# information or have any questions. 
#

# abstractions main directory
JSROP_ABSTRACTS_DIR=$(ABSTRACTIONS_DIR)

# dirs containing native source files
vpath % $(JSROP_ABSTRACTS_DIR)/src/cldc_application/native/share
vpath % $(JSROP_ABSTRACTS_DIR)/src/cldc_application/native/$(TARGET_PLATFORM)

# names of native source files (like 'file.c')
JSROP_ABSTRACTS_NATIVES = 

# extra libraries needed (like '-lpthread' or '-lm')
JSROP_ABSTRACTS_LINKLIBS = 

# dirs containing hative header files (.h)
JSROP_ABSTRACTS_INCLUDES = \
    -I$(JSROP_ABSTRACTS_DIR)/src/share/include \
    -I$(JSROP_ABSTRACTS_DIR)/src/cldc_application/native/include \
    -I$(JSROP_ABSTRACTS_DIR)/src/cldc_application/native/$(TARGET_PLATFORM)

# start dirs for java source trees
JSROP_ABSTRACTS_JAVASRCDIRS = \
        $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes

# classes
JSROP_ABSTRACTS_JAVA_FILES = \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/app/AppPackage.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/app/AppIsolate.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/app/AppModel.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/log/LogChannels.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/log/Logging.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/main/Configuration.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/security/PIMPermission.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/security/Permission.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/security/FileConnectionPermission.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/security/SatsaPermission.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/io/ConnectionBaseInterface.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/io/ConnectionBaseAdapter.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/io/PrivilegedConnector.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/i18n/Resource.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/i18n/ResourceConstants.java 

ifeq ($(USE_JSR_177), true)
JSROP_ABSTRACTS_JAVA_FILES += \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/security/SecurityTokenInitializer.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/io/FileAccess.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/dialog/Dialog.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/dialog/MessageDialog.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/Util.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/Cipher.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/RSAPublicKey.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/NoSuchAlgorithmException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/IllegalBlockSizeException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/BadPaddingException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/ShortBufferException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/InvalidKeyException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/InvalidAlgorithmParameterException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/NoSuchPaddingException.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/CryptoParameter.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/SecretKey.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/IvParameter.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/Key.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/MessageDigest.java \
    $(JSROP_ABSTRACTS_DIR)/src/cldc_application/classes/com/sun/j2me/crypto/DigestException.java
endif

# Specify romizer configuration file for the jsr
# and path where the file is located
#
ROMGEN_INCLUDE_PATHS += $(JSROP_ABSTRACTS_DIR)/src/cldc_application/config
ROMGEN_CFG_FILES     += abstractions_rom.cfg

#####################################################
JTWI_NATIVE_FILES  += $(JSROP_ABSTRACTS_NATIVES)
EXTRA_INCLUDES	   += $(JSROP_ABSTRACTS_INCLUDES)

source_bundle:: abstrats_source_bundle

# Create ABSTRACTS source in subdir 'abstracts/'
ABSTRACTS_SOURCE_OUTPUT_DIR=$(SOURCE_OUTPUT_DIR)/abstracts

# Copy and filter abstracts source in ABSTRACTS_SOURCE_OUTPUT_DIR
abstracts_source_bundle: SOURCE_OUTPUT_DIR
	@echo " ... ABSTRACTS source bundle" $(LOG)
	@$(call re_src_filter,$(JSROP_ABSTRACTS_DIR),$(ABSTRACTS_SOURCE_OUTPUT_DIR),src)

$(MIDP_CLASSES_ZIP):: $(JSROP_ABSTRACTS_JAVA_FILES)
	$(appendjavafiles)



